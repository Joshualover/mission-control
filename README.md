# 🎯 任务控制中心

一个使用 Next.js 14 和 Convex 构建的完整任务调度和管理系统，用于跟踪所有计划任务和 cron 作业。

## ✨ 功能特性

### 📅 日历视图
- 📆 **月度日历** - 清晰显示整个月的任务分布
- 🎯 **日期点击** - 查看任意日期的任务
- 🔔 **任务标识** - 日历格子上显示任务标题
- 📍 **今天高亮** - 当天日期用蓝色边框标识

### 📋 任务管理
- ✅ **创建任务** - 计划一次性或定期任务
- 📝 **任务详情** - 查看完整任务信息
- ✨ **状态管理** - 待执行、已完成、已取消
- 🗑️ **删除任务** - 移除不需要的任务
- 🔄 **定期任务** - 支持 cron 表达式

### 📊 统计面板
- 总任务数
- 待执行任务
- 已完成任务
- 定期任务数量

### 🎯 即将到来
- 显示未来7天内的任务
- 按时间顺序排列
- 显示优先级和分配人

### 👥 任务分配
- 👨‍💼 斌哥 - 人类用户
- 🤖 约书亚 - AI助手（我）

### 🎨 优先级系统
- 🟢 低优先级
- 🟡 中优先级
- 🔴 高优先级

## 🚀 快速开始

### 前置要求

- Node.js 18+
- npm 或 yarn
- Convex 账号（免费）

### 安装步骤

1. **进入项目目录**
```bash
cd /mnt/data/opencode-work/mission-control
```

2. **安装依赖**
```bash
npm install
```

3. **配置 Convex**（可选，用于实时功能）
```bash
npx convex login
npx convex dev
```

4. **启动开发服务器**
```bash
npm run dev
```

5. **打开浏览器**
访问 http://localhost:3000

## 📦 技术栈

- **Next.js 14** - React 框架，App Router
- **Convex** - 实时数据库
- **TypeScript** - 类型安全
- **Tailwind CSS** - 样式框架
- **date-fns** - 日期处理

## 📝 数据模型

```typescript
{
  title: string;                  // 任务标题
  description?: string;           // 任务描述
  scheduledTime: number;          // 计划时间（Unix时间戳）
  status: "pending" | "completed" | "cancelled";
  taskType: "one-time" | "recurring";
  recurrenceRule?: string;        // Cron表达式
  assignedTo: "斌哥" | "约书亚";
  priority: "low" | "medium" | "high";
  completedAt?: number;          // 完成时间
  createdAt: number;
  updatedAt: number;
}
```

## 🎯 使用说明

### 创建任务

1. 点击右上角"➕ 计划新任务"按钮
2. 填写任务信息：
   - 任务标题（必填）
   - 任务描述
   - 计划时间（必填）
   - 任务类型（一次性/定期）
   - 分配给（斌哥/约书亚）
   - 优先级（低/中/高）
3. 点击"创建任务"

### 查看任务

- **日历视图** - 在日历中查看每月任务分布
- **点击日期** - 查看特定日期的所有任务
- **即将到来** - 右侧显示未来7天的任务

### 管理任务

1. 点击任意任务卡片
2. 在详情弹窗中查看完整信息
3. 可以：
   - ✅ 标记为完成
   - ❌ 取消任务
   - 🗑️ 删除任务

### 导航日历

- 点击"← 上月"查看上个月
- 点击"下月 →"查看下个月
- 点击任意日期查看当天任务

## 🔄 实时功能

当前版本使用模拟数据。要启用实时功能：

1. 注册 Convex 账号：https://www.convex.dev
2. 运行 `npx convex login`
3. 运行 `npx convex dev`
4. 替换 `app/page.tsx` 中的模拟数据为真实的 Convex 查询
5. 所有任务更新会实时同步到所有客户端

## 📂 项目结构

```
mission-control/
├── app/
│   ├── page.tsx         # 主页面（日历+任务管理）
│   ├── layout.tsx       # 布局
│   └── globals.css      # 全局样式
├── convex/
│   ├── schema.ts        # 数据模型
│   ├── scheduledTasks.ts  # 任务函数（CRUD）
│   └── config.json      # Convex 配置
├── public/              # 静态资源
└── README.md           # 项目文档
```

## 🎨 界面特色

### 日历设计
- 7列网格布局（周一到周日）
- 每个日期格显示最多3个任务
- 超过3个显示"+N 更多"
- 任务按优先级着色
- 非本月日期半透明显示

### 响应式布局
- 手机：日历和侧边栏垂直排列
- 平板：2列布局
- 电脑：3列布局（日历占2列，侧边栏占1列）

### 颜色系统
- 待执行：黄色
- 已完成：绿色
- 已取消：灰色
- 高优先级：红色
- 中优先级：黄色
- 低优先级：绿色

## 🔔 与系统集成

这个任务控制中心可以：

1. **跟踪 cron 作业** - 所有定期任务显示在日历中
2. **计划提醒** - 设置特定时间的提醒任务
3. **监控执行** - 查看哪些任务已完成、哪些待执行
4. **分配透明** - 清楚看到哪些任务由斌哥或约书亚执行

## 🚀 部署

### Vercel 部署（推荐）

1. 推送代码到 GitHub
2. 在 Vercel 导入项目
3. 配置环境变量
4. 部署完成

### 其他平台

支持任何支持 Next.js 的平台（Netlify、Railway等）

## 📈 未来计划

- [ ] 启用 Convex 实时数据
- [ ] 拖拽移动任务
- [ ] 任务搜索和过滤
- [ ] 导出日历（.ics格式）
- [ ] 邮件提醒
- [ ] 任务评论
- [ ] 任务依赖关系
- [ ] 统计报表
- [ ] 深色模式

## 📄 许可证

MIT License - 自由使用和修改

---

**让任务管理更高效！** 🎯📅
